[gd_scene load_steps=10 format=3 uid="uid://dqyhfuupjdr4q"]

[ext_resource type="PackedScene" uid="uid://bnpwugpnqa56d" path="res://Objects/BaseObjects/kinematic_objects.tscn" id="1_hrkja"]
[ext_resource type="Texture2D" uid="uid://dae0wnkp6dvc5" path="res://Assets/Placeholders/human.png" id="2_nkyv3"]
[ext_resource type="Script" path="res://Scripts/Components/Movements/Movement1.gd" id="3_r2bh6"]
[ext_resource type="Script" path="res://Scripts/Components/Talkable_Objects/Talkable.gd" id="4_5bveq"]
[ext_resource type="Script" path="res://Scripts/Components/Talkable_Objects/Resources/talkable-object-data.gd" id="5_swwd6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sifhd"]
size = Vector2(24, 24)

[sub_resource type="SeparationRayShape2D" id="SeparationRayShape2D_eomog"]
length = 13.0

[sub_resource type="Resource" id="Resource_njmna"]
script = ExtResource("5_swwd6")
_name = "Npc"
_texture = ExtResource("2_nkyv3")
_sentences = Array[String](["Hi!
"])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yhsd6"]
size = Vector2(26, 26)

[node name="KinematicObjects" instance=ExtResource("1_hrkja")]
collision_layer = 4
collision_mask = 4
motion_mode = 1
slide_on_ceiling = false
floor_constant_speed = true
platform_on_leave = 2
platform_floor_layers = 0

[node name="SpriteHolder" parent="." index="0"]
position = Vector2(12, 12)

[node name="Sprite2D" type="Sprite2D" parent="SpriteHolder" index="0"]
texture = ExtResource("2_nkyv3")

[node name="CollisionShape2D" parent="." index="1"]
position = Vector2(12, 12)
shape = SubResource("RectangleShape2D_sifhd")

[node name="StaticBody2D" type="StaticBody2D" parent="." index="2"]
top_level = true
position = Vector2(-1, -1)
collision_layer = 4
collision_mask = 4

[node name="OGPlace" type="CollisionShape2D" parent="StaticBody2D" index="0"]
position = Vector2(13, 13)
shape = SubResource("RectangleShape2D_sifhd")

[node name="StaticBody2D2" type="StaticBody2D" parent="." index="3"]
top_level = true
collision_layer = 4
collision_mask = 4

[node name="NewPlace" type="CollisionShape2D" parent="StaticBody2D2" index="0"]
position = Vector2(12, 12)
shape = SubResource("RectangleShape2D_sifhd")
debug_color = Color(0.906051, 0.113516, 0.687782, 0.42)

[node name="RaycastArea" type="Area2D" parent="." index="4"]

[node name="Ray" type="CollisionShape2D" parent="RaycastArea" index="0"]
position = Vector2(12, 12)
shape = SubResource("SeparationRayShape2D_eomog")

[node name="Movement" type="Node" parent="Componenets" index="0" node_paths=PackedStringArray("ray", "og_place", "new_place", "actor", "area")]
script = ExtResource("3_r2bh6")
ray = NodePath("../../RaycastArea")
og_place = NodePath("../../StaticBody2D")
new_place = NodePath("../../StaticBody2D2")
type = 1
speed = 50.0
steps = 2
actor = NodePath("../..")
area = NodePath("../../InteractionArea")

[node name="Talkable" type="Node" parent="Componenets" index="1" node_paths=PackedStringArray("movement_comp", "actor", "area", "sprite")]
script = ExtResource("4_5bveq")
talk_data = SubResource("Resource_njmna")
movement_comp = NodePath("../Movement")
actor = NodePath("../..")
area = NodePath("../../InteractionArea")
sprite = NodePath("../../SpriteHolder/Sprite2D")

[node name="InteractionArea" type="Area2D" parent="." index="6"]
position = Vector2(12, 12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="InteractionArea" index="0"]
shape = SubResource("RectangleShape2D_yhsd6")
